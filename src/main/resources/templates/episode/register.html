<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="~{/layout/basic::setContent(~{this::content})}">
    <th:block th:fragment="content">
        <body>
        <h2> 등록 페이지 </h2>
        <div class="register-container">
            <form action="/episode/register" method="post" enctype="multipart/form-data">
                <h2>기부 등록 페이지</h2>
                <div class="form-group">
                    <label class="reg-label" for="title">제 목:</label>
                    <input class="reg-text" type="text" id="title" name="title" required>
                </div>
                <div class="form-group">
                    <label class="reg-label" for="summary">간략 설명:</label>
                    <textarea class="reg-textarea" id="summary" name="summary" required></textarea>
                </div>
                <div class="form-group">
                    <label class="reg-label" for="content">본 문:</label>
                    <textarea class="reg-textarea" id="content" name="content" required></textarea>
                </div>
                <div class="form-group">
                    <label class="reg-label" for="goalAccount">목표 금액:</label>
                    <input class="reg-number" type="number" id="goalAccount" name="goalAccount" required>
                </div>
                <div class="form-group">
                    <label for="itemImgFile" class="reg-label">이미지:</label>
                    <input type="file" id="itemImgFile" name="itemImgFile" multiple accept="image/*" required>
                </div>
                <div class="image-preview">
                    <p>Image Preview:</p>
                    <div id="image-preview-container"></div>
                </div>
                <button class="reg-btn" type="submit">Submit</button>
            </form>
        </div>

        </body>
        <script>
            function previewImages() {
                var previewContainer = document.getElementById('image-preview-container');
                var files = document.getElementById('itemImgFile').files;

                previewContainer.innerHTML = '';

                if (files) {
                    for (var i = 0; i < files.length; i++) {
                        var reader = new FileReader();
                        reader.onload = function (event) {
                            var image = new Image();
                            image.src = event.target.result;
                            previewContainer.appendChild(image);
                        }
                        reader.readAsDataURL(files[i]);
                    }
                }
            }

            document.getElementById('itemImgFile').addEventListener('change', previewImages);
        </script>
    </th:block>
</th:block>
</html>